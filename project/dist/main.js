!function(){var t=new XMLHttpRequest;t.open("GET","https://raw.githubusercontent.com/chaordic/frontend-intern-challenge/master/Assets/urls.json"),t.send(null);var e=function(t){t.sort(function(t,e){return t.hits>e.hits?0:t.hits<e.hits?1:0}),document.querySelector(".link-list").classList.remove("no-js");for(var e=0;5>e;e++){var s=document.querySelectorAll(".link-list__content")[e],n=s.querySelector(".link-list__url"),i=s.querySelector(".link-list__number");n.href=t[e].url,n.textContent=t[e].shortUrl,i.textContent=t[e].hits}};t.onreadystatechange=function(){var s=4,n=200;if(t.readyState===s&&t.status===n){var i=JSON.parse(t.responseText);e(i)}};var s=document.querySelector(".form"),n=document.querySelector(".form__close"),i=document.querySelector(".form__input"),a=document.querySelector(".form__button");n.addEventListener("click",function(){""!=i.value&&(i.value="",this.classList.add("hidden"),a.textContent="Encurtar",a.title="Encurtar link",a.classList.add("disabled"))}),i.addEventListener("input",function(){n.classList.contains("hidden")&&n.classList.remove("hidden"),""==this.value&&(n.classList.add("hidden"),a.classList.add("disabled"));var t=/^(((https?):\/\/)?(www\.)?)?[A-Za-z\d]+(\.[A-Za-z\d]+)+/;""!=this.value&&t.test(this.value)&&a.classList.contains("disabled")&&a.classList.remove("disabled"),""==this.value||t.test(this.value)||a.classList.contains("disabled")||a.classList.add("disabled")}),s.addEventListener("submit",function(t){t.preventDefault()}),a.addEventListener("click",function(t){if(""!=i.value){var e=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);i.value="http://chr.dc/"+e,this.textContent="Copiar",this.title="Copiar url encurtada"}})}();